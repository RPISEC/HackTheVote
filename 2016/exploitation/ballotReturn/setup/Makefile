# Makefile for creating our standalone Cython program
PYVERSION=2.7
PYPREFIX=/usr
INCLUDES=-I$(PYPREFIX)/include/python$(PYVERSION)

ballot_return: ballot_return.o
	gcc -o $@ $^ -lpython$(PYVERSION)

ballot_return.o: ballot_return.c
	gcc -c $^ $(INCLUDES)

ballot_return.c: ../handout/ballot_return.py
	cython --embed ../handout/ballot_return.py -o ballot_return.c

all: ballot_return

clean:
	@echo Cleaning Demos/embed
	@rm -f *~ *.o *.so core core.* *.c ballot_return
